<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>HustlerHer Social Suite</title>
  <meta name="description" content="Luxury micro-SaaS planner for business women managing social media marketing."/>
  <style>
    :root{
      --bg:#0b0f17;
      --card: rgba(255,255,255,.07);
      --card2: rgba(255,255,255,.09);
      --txt:#f5f6fb;
      --muted:#b9bed0;
      --gold:#d4af37;
      --rose:#e7a7b6;
      --cream:#f7f1ea;
      --line: rgba(255,255,255,.14);
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --r: 22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(900px 600px at 15% 20%, rgba(231,167,182,.25), transparent 55%),
        radial-gradient(900px 600px at 90% 10%, rgba(212,175,55,.22), transparent 55%),
        radial-gradient(900px 600px at 70% 90%, rgba(120,180,255,.16), transparent 55%),
        linear-gradient(180deg, #070a10, #0b0f17 40%, #070a10);
      color: var(--txt);
      min-height:100vh;
    }
    a{color:inherit; text-decoration:none}
    .wrap{max-width:1120px; margin:0 auto; padding:22px}

    .topbar{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(14px);
      background: rgba(7,10,16,.62);
      border-bottom:1px solid var(--line);
    }
    .topbar .inner{
      max-width:1120px; margin:0 auto;
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 22px;
      gap:12px;
    }
    .brand{
      display:flex; gap:10px; align-items:center;
      font-weight:900; letter-spacing:.2px;
      white-space:nowrap;
    }
    .badge{
      font-size:12px; padding:6px 10px;
      border:1px solid rgba(212,175,55,.45);
      border-radius:999px;
      color: var(--cream);
      background: rgba(212,175,55,.12);
    }
    .nav{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
      justify-content:flex-end;
    }
    .nav a{
      padding:10px 12px;
      border:1px solid transparent;
      border-radius:999px;
      color: var(--muted);
    }
    .nav a:hover{border-color: var(--line); color: var(--txt)}
    .nav a.active{
      border-color: rgba(212,175,55,.55);
      color: var(--txt);
      background: rgba(212,175,55,.10);
    }

    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      gap:10px;
      padding:12px 16px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.06);
      color: var(--txt);
      box-shadow: 0 10px 24px rgba(0,0,0,.25);
      cursor:pointer;
      user-select:none;
      font-weight:750;
    }
    .btn:hover{transform: translateY(-1px)}
    .btn:active{transform: translateY(0)}
    .btn.primary{
      border-color: rgba(212,175,55,.70);
      background: linear-gradient(135deg, rgba(212,175,55,.25), rgba(231,167,182,.18));
    }
    .btn.rose{
      border-color: rgba(231,167,182,.65);
      background: rgba(231,167,182,.12);
    }
    .btn.dark{background: rgba(0,0,0,.30)}
    .btn.small{padding:8px 12px; font-size:13px}

    .grid{display:grid; gap:16px}
    .grid.two{grid-template-columns: repeat(2, minmax(0,1fr))}
    .grid.three{grid-template-columns: repeat(3, minmax(0,1fr))}
    @media (max-width: 980px){ .grid.two,.grid.three{grid-template-columns:1fr} }

    .card{
      background: var(--card);
      border:1px solid var(--line);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card .pad{padding:18px}
    .card h3{margin:0 0 8px; font-size:18px}
    .muted{color:var(--muted)}
    .tiny{font-size:12px; color: var(--muted)}
    .hr{height:1px; background: var(--line); margin:12px 0}

    .hero{
      padding:34px 0 18px;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:18px;
      align-items:stretch;
    }
    @media (max-width: 980px){ .hero{grid-template-columns:1fr} }
    .heroTitle{
      font-size:44px; line-height:1.02;
      margin:0 0 12px;
      letter-spacing:-.8px;
    }
    .heroTitle span{
      background: linear-gradient(90deg, var(--gold), var(--rose), #ffffff);
      -webkit-background-clip:text;
      background-clip:text;
      color: transparent;
    }
    .heroP{margin:0 0 18px; color: var(--muted); font-size:16px; max-width:56ch}
    .heroActions{display:flex; gap:12px; flex-wrap:wrap}

    .heroArt{
      position:relative;
      min-height: 290px;
      background:
        radial-gradient(200px 200px at 20% 30%, rgba(212,175,55,.30), transparent 60%),
        radial-gradient(260px 220px at 70% 35%, rgba(231,167,182,.26), transparent 60%),
        radial-gradient(260px 220px at 50% 85%, rgba(120,180,255,.18), transparent 60%),
        rgba(255,255,255,.05);
      border:1px solid var(--line);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .float{
      position:absolute; inset:auto;
      width:150px; height:150px;
      border-radius:40px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.16);
      box-shadow: 0 18px 40px rgba(0,0,0,.35);
      animation: bob 5.5s ease-in-out infinite;
    }
    .float.one{left:18px; top:18px}
    .float.two{right:18px; top:52px; animation-delay: -1.2s}
    .float.three{left:58px; bottom:18px; animation-delay: -2.1s}
    @keyframes bob{0%,100%{transform: translateY(0)}50%{transform: translateY(-10px)}}

    .kpi{
      position:absolute; right:16px; bottom:14px;
      padding:12px 14px;
      border-radius:18px;
      border:1px solid rgba(212,175,55,.45);
      background: rgba(0,0,0,.22);
      max-width: 70%;
    }
    .kpi b{color: var(--cream)}
    .spark{
      display:inline-block;
      width:8px; height:8px; border-radius:999px;
      background: var(--gold);
      box-shadow: 0 0 18px rgba(212,175,55,.8);
      margin-right:8px;
    }

    .priceCard{
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
    }
    .tier{display:flex; justify-content:space-between; align-items:center; gap:10px}
    .price{
      font-size:34px; font-weight:950;
      letter-spacing:-.6px;
    }
    .tag{
      font-size:12px; padding:6px 10px; border-radius:999px;
      border:1px solid var(--line);
      color: var(--muted);
      background: rgba(0,0,0,.18);
      white-space:nowrap;
    }
    .features{margin:12px 0 0; padding:0; list-style:none; color: var(--muted)}
    .features li{padding:7px 0; border-bottom:1px dashed rgba(255,255,255,.12)}
    .features li:last-child{border-bottom:0}

    .appShell{
      display:grid;
      grid-template-columns: 280px 1fr;
      gap:16px;
      margin-top:16px;
    }
    @media (max-width: 980px){ .appShell{grid-template-columns:1fr} }
    .side{position:sticky; top:86px; height: fit-content; padding:14px}
    .side h4{margin:0 0 8px}
    .side a{
      display:flex; gap:10px; align-items:center;
      padding:10px 12px; border-radius:14px;
      border:1px solid transparent;
      color: var(--muted);
    }
    .side a:hover{border-color: var(--line); color: var(--txt)}
    .side a.active{
      border-color: rgba(231,167,182,.55);
      background: rgba(231,167,182,.10);
      color: var(--txt);
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px; border-radius:999px;
      border:1px solid rgba(231,167,182,.45);
      background: rgba(231,167,182,.08);
      color: var(--cream);
      font-size:12px;
    }
    input, textarea{
      width:100%;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      color: var(--txt);
      padding:10px 12px;
      outline:none;
    }
    textarea{min-height:120px; resize:vertical}

    .row{display:grid; grid-template-columns: 1fr 1fr; gap:12px}
    @media (max-width: 980px){ .row{grid-template-columns:1fr} }

    .toast{
      position: fixed; right: 16px; bottom: 16px;
      background: rgba(0,0,0,.7);
      border:1px solid rgba(255,255,255,.16);
      padding:12px 14px;
      border-radius:16px;
      color: var(--cream);
      box-shadow: 0 18px 60px rgba(0,0,0,.45);
      opacity:0; transform: translateY(8px);
      pointer-events:none;
      transition: .18s ease;
      max-width: 360px;
      z-index: 999;
    }
    .toast.show{opacity:1; transform: translateY(0)}
    .footer{padding:22px 0 50px; color: var(--muted); font-size:13px}

    .lock{
      padding:10px 12px;
      border-radius:16px;
      border:1px solid rgba(212,175,55,.35);
      background: rgba(212,175,55,.08);
      color: var(--cream);
      font-size:13px;
      display:flex;
      gap:8px;
      align-items:center;
      margin-top:10px;
    }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="inner">
      <div class="brand">
        HustlerHer Social Suite
        <span class="badge">Luxury Demo</span>
      </div>

      <nav class="nav" id="topNav">
        <a href="#/" data-route="#/">Home</a>
        <a href="#/pricing" data-route="#/pricing">Pricing</a>
        <a href="#/login" data-route="#/login">Login</a>
        <a href="#/app" data-route="#/app">Dashboard</a>
      </nav>
    </div>
  </div>

  <div class="wrap" id="view"></div>
  <div class="toast" id="toast"></div>

  <script>
    // ===================== STRIPE LINKS (paste later) =====================
    const STRIPE = {
      starter: "PASTE_STRIPE_LINK_STARTER",
      boss: "PASTE_STRIPE_LINK_BOSS",
      ceo: "PASTE_STRIPE_LINK_CEO"
    };

    // ===================== OWNER / DEMO ACCESS =====================
    const AUTH = {
      owner: { email: "owner@hustlerher.com", pass: "HustleGold!39", role: "owner" },
      demo:  { email: "demo@hustlerher.com",  pass: "Demo123!",      role: "demo"  }
    };

    // demo users can access ONLY these tabs in full:
    const DEMO_ALLOWED_TABS = new Set(["overview","planner","todos"]);

    // ===================== helpers =====================
    const $ = (s, el=document) => el.querySelector(s);
    const toast = (msg) => {
      const t = $("#toast");
      t.textContent = msg;
      t.classList.add("show");
      clearTimeout(toast._tm);
      toast._tm = setTimeout(() => t.classList.remove("show"), 2200);
    };

    const store = {
      get(k, fallback){ try{ return JSON.parse(localStorage.getItem(k)) ?? fallback; }catch{ return fallback; } },
      set(k, v){ localStorage.setItem(k, JSON.stringify(v)); }
    };

    function getSession(){
      return store.get("hh.session", { role: "guest" });
    }
    function setSession(role){
      store.set("hh.session", { role, at: Date.now() });
    }
    function logout(){
      store.set("hh.session", { role:"guest" });
      toast("Logged out.");
      location.hash = "#/";
    }

    function requireLoginForApp(){
      const s = getSession();
      if(s.role === "guest"){
        location.hash = "#/login";
        toast("Please login to open the dashboard.");
        return false;
      }
      return true;
    }

    // ===================== data =====================
    const state = {
      todos: store.get("hh.todos", [
        {id: crypto.randomUUID(), text:"Post 1 Reel + 1 Story", done:false},
        {id: crypto.randomUUID(), text:"Reply to DMs + leads", done:false},
        {id: crypto.randomUUID(), text:"Draft 3 hooks for tomorrow", done:false},
      ]),
      notes: store.get("hh.notes", ""),
      goals: store.get("hh.goals", { followers: 1000, leads: 40, sales: 25 }),
      contacts: store.get("hh.contacts", [
        {id: crypto.randomUUID(), name:"Brand Collab ‚Äî Lumi Beauty", handle:"@lumibeauty", note:"Pitch affiliate bundle"},
        {id: crypto.randomUUID(), name:"Client ‚Äî Coach Nia", handle:"@coach_nia", note:"Schedule content week"}
      ]),
      calendar: store.get("hh.calendar", [
        {id: crypto.randomUUID(), date:"2026-01-15", platform:"IG", title:"Reel: 3 hooks that sell"},
        {id: crypto.randomUUID(), date:"2026-01-16", platform:"TikTok", title:"Storytime: first $1k week"},
      ]),
      metrics: store.get("hh.metrics", { revenue: 1250, clicks: 860, leads: 42 })
    };

    const persistAll = () => {
      store.set("hh.todos", state.todos);
      store.set("hh.notes", state.notes);
      store.set("hh.goals", state.goals);
      store.set("hh.contacts", state.contacts);
      store.set("hh.calendar", state.calendar);
      store.set("hh.metrics", state.metrics);
    };

    // ===================== routing =====================
    function parseRoute(){
      const hash = location.hash || "#/";
      const [path, queryString] = hash.split("?");
      const qs = new URLSearchParams(queryString || "");
      return { path, qs };
    }

    function setActiveNav(path){
      document.querySelectorAll("#topNav a").forEach(a=>{
        const r = a.getAttribute("data-route");
        const isApp = (path === "#/app" || path === "#/dashboard");
        const active = (r === "#/" && path === "#/") ||
                       (r === "#/pricing" && path === "#/pricing") ||
                       (r === "#/login" && path === "#/login") ||
                       (r === "#/app" && isApp);
        a.classList.toggle("active", active);
      });
    }

    // ===================== views =====================
    function LandingView(){
      const session = getSession();
      const roleLabel = session.role === "owner" ? "Owner Access" : session.role === "demo" ? "Demo Access" : "Guest";

      return `
        <section class="hero">
          <div class="card">
            <div class="pad">
              <h1 class="heroTitle">Plan. Post. Profit. <span>In Heels.</span></h1>
              <p class="heroP">
                Luxury micro-SaaS demo for business women who manage their marketing through social media.
                Try the demo dashboard (3 features) or login as owner for full access.
              </p>

              <div class="heroActions">
                <a class="btn primary" href="#/login">Owner Login</a>
                <a class="btn rose" href="#/pricing">See Pricing</a>
                <a class="btn dark" href="#/app">Open Dashboard</a>
              </div>

              <div class="lock">
                <span class="spark"></span>
                Session: <b>${roleLabel}</b>
                <span style="margin-left:auto; display:flex; gap:8px; align-items:center">
                  ${session.role !== "guest" ? `<button class="btn small" id="logoutBtn">Logout</button>` : `<span class="tiny">Login to unlock.</span>`}
                </span>
              </div>

              <div class="hr"></div>

              <div class="grid three">
                <div class="card"><div class="pad">
                  <h3>Content Planner</h3>
                  <div class="muted">Schedule IG/TikTok/Pinterest posts with CEO-level clarity.</div>
                </div></div>

                <div class="card"><div class="pad">
                  <h3>CEO To-Dos</h3>
                  <div class="muted">Daily actions that drive sales‚Äîfast and organized.</div>
                </div></div>

                <div class="card"><div class="pad">
                  <h3>Boss Overview</h3>
                  <div class="muted">Your daily KPI snapshot + quick notes to stay locked in.</div>
                </div></div>
              </div>

              <div class="footer">
                Demo customers only see <b>3 working features</b>. Owners see <b>everything</b>.
              </div>
            </div>
          </div>

          <div class="heroArt">
            <div class="float one"></div>
            <div class="float two"></div>
            <div class="float three"></div>
            <div class="kpi"><span class="spark"></span><b>Premium UI</b> ‚Ä¢ blush / gold / glass cards ‚Ä¢ GitHub Pages-ready</div>
          </div>
        </section>
      `;
    }

    function PricingView(){
      return `
        <div class="grid two">
          <div class="card">
            <div class="pad">
              <h2 style="margin:0 0 8px; letter-spacing:-.5px">Pricing</h2>
              <p class="muted" style="margin:0">
                Paste your Stripe links once and the buttons will work instantly.
              </p>
              <div class="hr"></div>
              <div class="card" style="background:rgba(0,0,0,.18); border-color:rgba(255,255,255,.16)">
                <div class="pad">
                  <div class="tiny">Paste Stripe links at the top of this file:</div>
                  <pre style="margin:8px 0 0; white-space:pre-wrap; color:var(--cream); font-size:12px">const STRIPE = {
  starter: "PASTE_STRIPE_LINK_STARTER",
  boss: "PASTE_STRIPE_LINK_BOSS",
  ceo: "PASTE_STRIPE_LINK_CEO"
};</pre>
                </div>
              </div>
              <div class="footer">Buttons below open Stripe in a new tab.</div>
            </div>
          </div>

          <div class="grid three" style="grid-column: 1 / -1">
            ${PricingCard("Starter", "$7", "Quick setup", ["3 demo features", "Planner + Notes", "To-Do lists"], "starter", false)}
            ${PricingCard("Boss", "$19", "Best value", ["Everything in Starter", "Contacts + Goals", "More templates"], "boss", true)}
            ${PricingCard("CEO", "$39", "All access", ["Everything in Boss", "Metrics + Export", "Premium tools"], "ceo", false)}
          </div>
        </div>
      `;
    }

    function PricingCard(name, price, tag, feats, key, featured){
      const glow = featured ? "border-color: rgba(212,175,55,.7); box-shadow: 0 18px 70px rgba(212,175,55,.12), var(--shadow);" : "";
      const btnClass = featured ? "btn primary" : "btn";
      return `
        <div class="card priceCard" style="${glow}">
          <div class="pad">
            <div class="tier">
              <h3 style="margin:0">${name}</h3>
              <span class="tag">${tag}</span>
            </div>
            <div class="price">${price}<span class="tiny">/mo</span></div>

            <ul class="features">
              ${feats.map(f=>`<li>${f}</li>`).join("")}
            </ul>

            <div class="hr"></div>
            <button class="${btnClass}" data-buy="${key}" style="width:100%">Start with ${name}</button>
            <div class="tiny" style="margin-top:10px">
              Or <a href="#/login" style="text-decoration:underline; color:var(--cream)">login</a> to test the dashboard.
            </div>
          </div>
        </div>
      `;
    }

    function LoginView(){
      return `
        <div class="grid two">
          <div class="card">
            <div class="pad">
              <h2 style="margin:0 0 8px">Login</h2>
              <p class="muted" style="margin:0">Owner = full access. Demo = only 3 features.</p>
              <div class="hr"></div>

              <label class="tiny">Email</label>
              <input id="loginEmail" placeholder="owner@hustlerher.com"/>

              <div style="height:10px"></div>

              <label class="tiny">Password</label>
              <input id="loginPass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"/>

              <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
                <button class="btn primary" id="loginBtn">Login</button>
                <a class="btn" href="#/">Back</a>
              </div>

              <div class="hr"></div>

              <div class="card" style="background:rgba(0,0,0,.18); border-color:rgba(255,255,255,.16)">
                <div class="pad">
                  <div class="tiny"><b>Owner Login</b></div>
                  <div class="muted">Email: owner@hustlerher.com</div>
                  <div class="muted">Pass: HustleGold!39</div>
                  <div class="hr"></div>
                  <div class="tiny"><b>Demo Login</b></div>
                  <div class="muted">Email: demo@hustlerher.com</div>
                  <div class="muted">Pass: Demo123!</div>
                </div>
              </div>

            </div>
          </div>

          <div class="card">
            <div class="pad">
              <h3>What you can test</h3>
              <div class="muted">Demo users can fully use:</div>
              <ul class="features" style="margin-top:8px">
                <li>‚ú® Overview</li>
                <li>üóì Content Planner</li>
                <li>‚úÖ CEO To-Dos</li>
              </ul>
              <div class="hr"></div>
              <div class="muted">Owner login unlocks:</div>
              <ul class="features" style="margin-top:8px">
                <li>üìá Contacts Hub</li>
                <li>üéØ Goals</li>
                <li>üìù Notes + Hooks</li>
                <li>üí∞ Metrics</li>
                <li>Export / Import</li>
              </ul>
            </div>
          </div>
        </div>
      `;
    }

    function AppView(qs){
      if(!requireLoginForApp()) return "";
      const session = getSession();

      let tab = qs.get("tab") || "overview";

      // demo mode = restrict tabs
      if(session.role === "demo" && !DEMO_ALLOWED_TABS.has(tab)){
        tab = "overview";
      }

      const isOwner = session.role === "owner";
      const lockMsg = (!isOwner)
        ? `<div class="lock"><span class="spark"></span><b>Demo mode:</b> Only 3 features unlocked. Upgrade to access all.</div>`
        : `<div class="lock"><span class="spark"></span><b>Owner mode:</b> Full access unlocked.</div>`;

      return `
        ${lockMsg}

        <div class="appShell">
          <div class="card side">
            <h4>Dashboard</h4>
            <div class="pill" style="margin-bottom:10px"><span class="spark"></span>${isOwner ? "Owner" : "Demo"} Access</div>

            <a href="#/app?tab=overview" class="${tab==="overview"?"active":""}">‚ú® Overview</a>
            <a href="#/app?tab=planner" class="${tab==="planner"?"active":""}">üóì Content Planner</a>
            <a href="#/app?tab=todos" class="${tab==="todos"?"active":""}">‚úÖ CEO To-Dos</a>

            ${isOwner ? `
              <div class="hr"></div>
              <a href="#/app?tab=contacts" class="${tab==="contacts"?"active":""}">üìá Contacts Hub</a>
              <a href="#/app?tab=goals" class="${tab==="goals"?"active":""}">üéØ Goals</a>
              <a href="#/app?tab=notes" class="${tab==="notes"?"active":""}">üìù Notes + Hooks</a>
              <a href="#/app?tab=metrics" class="${tab==="metrics"?"active":""}">üí∞ Metrics</a>
              <div class="hr"></div>
              <button class="btn" id="exportBtn" style="width:100%">Export Backup</button>
              <label class="btn" style="width:100%; margin-top:10px; cursor:pointer">
                Import Backup
                <input id="importFile" type="file" accept="application/json" style="display:none">
              </label>
            ` : `
              <div class="hr"></div>
              <a href="#/pricing" class="btn rose" style="justify-content:center">Upgrade for Full Access</a>
            `}

            <div class="hr"></div>
            <button class="btn dark" id="logoutBtn2" style="width:100%">Logout</button>
          </div>

          <div class="card">
            <div class="pad">
              ${AppTab(tab, isOwner)}
            </div>
          </div>
        </div>
      `;
    }

    function AppTab(tab, isOwner){
      if(tab==="overview"){
        return `
          <h2 style="margin:0 0 6px">Boss Overview</h2>
          <div class="muted">Everything saves in your browser (no backend).</div>
          <div class="hr"></div>

          <div class="grid three">
            <div class="card"><div class="pad">
              <div class="tiny">Revenue</div>
              <div style="font-size:30px; font-weight:950">$${state.metrics.revenue}</div>
              <div class="muted">From social campaigns</div>
            </div></div>

            <div class="card"><div class="pad">
              <div class="tiny">Clicks</div>
              <div style="font-size:30px; font-weight:950">${state.metrics.clicks}</div>
              <div class="muted">Link traffic</div>
            </div></div>

            <div class="card"><div class="pad">
              <div class="tiny">Leads</div>
              <div style="font-size:30px; font-weight:950">${state.metrics.leads}</div>
              <div class="muted">DMs + opt-ins</div>
            </div></div>
          </div>

          <div class="hr"></div>

          <div class="grid two">
            <div class="card"><div class="pad">
              <h3>Today‚Äôs Focus</h3>
              <div class="muted">1 Reel + 1 Story + 10 DMs. Consistency creates momentum.</div>
              <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
                <a class="btn primary" href="#/app?tab=todos">Open To-Dos</a>
                <a class="btn rose" href="#/app?tab=planner">Plan Posts</a>
              </div>
            </div></div>

            <div class="card"><div class="pad">
              <h3>Quick Notes</h3>
              <div class="muted">Drop hooks/captions. Saved automatically.</div>
              <textarea id="notesBox" placeholder="Type your hooks/captions...">${escapeHtml(state.notes)}</textarea>
              <div class="tiny" style="margin-top:8px">Auto-saved ‚Ä¢ no backend</div>
            </div></div>
          </div>
        `;
      }

      if(tab==="planner"){
        return `
          <h2 style="margin:0 0 6px">Content Planner</h2>
          <div class="muted">Add posts to your calendar (saved locally).</div>
          <div class="hr"></div>

          <div class="row">
            <div>
              <label class="tiny">Date</label>
              <input id="calDate" type="date"/>
            </div>
            <div>
              <label class="tiny">Platform</label>
              <input id="calPlatform" placeholder="IG / TikTok / Pinterest"/>
            </div>
          </div>
          <div style="margin-top:12px">
            <label class="tiny">Title</label>
            <input id="calTitle" placeholder="Reel: 3 hooks that sell"/>
          </div>

          <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
            <button class="btn primary" id="addCal">Add Post</button>
            <button class="btn" id="clearCal">Clear All</button>
          </div>

          <div class="hr"></div>
          <div class="grid">
            ${state.calendar.map(item => `
              <div class="card"><div class="pad">
                <div style="display:flex; justify-content:space-between; gap:10px; align-items:center">
                  <div>
                    <b>${escapeHtml(item.date)}</b> ‚Ä¢ <span class="tag">${escapeHtml(item.platform)}</span>
                    <div class="muted" style="margin-top:6px">${escapeHtml(item.title)}</div>
                  </div>
                  <button class="btn" data-delcal="${item.id}">Remove</button>
                </div>
              </div></div>
            `).join("") || `<div class="muted">No posts yet. Add your first one above.</div>`}
          </div>
        `;
      }

      if(tab==="todos"){
        return `
          <h2 style="margin:0 0 6px">CEO To-Dos</h2>
          <div class="muted">Check off your daily marketing actions.</div>
          <div class="hr"></div>

          <div class="row">
            <div>
              <label class="tiny">New task</label>
              <input id="todoText" placeholder="Write 5 hooks for tomorrow"/>
            </div>
            <div style="display:flex; align-items:end">
              <button class="btn primary" id="addTodo" style="width:100%">Add</button>
            </div>
          </div>

          <div class="hr"></div>
          <div class="grid">
            ${state.todos.map(t => `
              <div class="card"><div class="pad" style="display:flex; justify-content:space-between; gap:10px; align-items:center">
                <label style="display:flex; gap:10px; align-items:center; cursor:pointer; color:${t.done?"#cfd5e6":"var(--txt)"}">
                  <input type="checkbox" data-todotoggle="${t.id}" ${t.done?"checked":""}/>
                  <span style="text-decoration:${t.done?"line-through":"none"}">${escapeHtml(t.text)}</span>
                </label>
                <button class="btn" data-tododel="${t.id}">Delete</button>
              </div></div>
            `).join("") || `<div class="muted">No tasks yet. Add one above.</div>`}
          </div>
        `;
      }

      // Owner-only tabs:
      if(!isOwner){
        return `
          <h2 style="margin:0 0 6px">Locked Feature</h2>
          <p class="muted">This feature is available in the full plan. Demo users can access 3 features only.</p>
          <div style="margin-top:12px">
            <a class="btn primary" href="#/pricing">Upgrade Access</a>
          </div>
        `;
      }

      if(tab==="contacts"){
        return `
          <h2 style="margin:0 0 6px">Contacts Hub</h2>
          <div class="muted">Track brands, collabs, clients, and notes.</div>
          <div class="hr"></div>

          <div class="row">
            <div><input id="cName" placeholder="Name (Brand / Client)"/></div>
            <div><input id="cHandle" placeholder="@handle"/></div>
          </div>
          <div style="margin-top:12px"><input id="cNote" placeholder="Notes (deal terms, follow-up, etc.)"/></div>

          <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
            <button class="btn primary" id="addContact">Add Contact</button>
            <button class="btn" id="clearContacts">Clear All</button>
          </div>

          <div class="hr"></div>
          <div class="grid">
            ${state.contacts.map(c => `
              <div class="card"><div class="pad" style="display:flex; justify-content:space-between; gap:10px; align-items:center">
                <div>
                  <b>${escapeHtml(c.name)}</b> <span class="tag">${escapeHtml(c.handle)}</span>
                  <div class="muted" style="margin-top:6px">${escapeHtml(c.note)}</div>
                </div>
                <button class="btn" data-delcontact="${c.id}">Remove</button>
              </div></div>
            `).join("") || `<div class="muted">No contacts yet.</div>`}
          </div>
        `;
      }

      if(tab==="goals"){
        return `
          <h2 style="margin:0 0 6px">Goals</h2>
          <div class="muted">Set monthly targets for growth & consistency.</div>
          <div class="hr"></div>

          <div class="row">
            <div>
              <label class="tiny">Follower goal</label>
              <input id="gFollowers" type="number" value="${state.goals.followers}"/>
            </div>
            <div>
              <label class="tiny">Leads goal</label>
              <input id="gLeads" type="number" value="${state.goals.leads}"/>
            </div>
          </div>
          <div style="margin-top:12px">
            <label class="tiny">Sales goal</label>
            <input id="gSales" type="number" value="${state.goals.sales}"/>
          </div>

          <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
            <button class="btn primary" id="saveGoals">Save Goals</button>
          </div>
        `;
      }

      if(tab==="notes"){
        return `
          <h2 style="margin:0 0 6px">Notes + Hooks</h2>
          <div class="muted">Write hooks, captions, offers. Auto-saved.</div>
          <div class="hr"></div>
          <textarea id="notesBox" placeholder="Hook ideas, captions, offers...">${escapeHtml(state.notes)}</textarea>
          <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
            <button class="btn" id="fillHooks">Generate 5 Hook Templates</button>
            <button class="btn" id="clearNotes">Clear</button>
          </div>
        `;
      }

      if(tab==="metrics"){
        return `
          <h2 style="margin:0 0 6px">Money & Metrics</h2>
          <div class="muted">Lite tracking for your social marketing results.</div>
          <div class="hr"></div>

          <div class="row">
            <div>
              <label class="tiny">Revenue ($)</label>
              <input id="mRevenue" type="number" value="${state.metrics.revenue}"/>
            </div>
            <div>
              <label class="tiny">Clicks</label>
              <input id="mClicks" type="number" value="${state.metrics.clicks}"/>
            </div>
          </div>
          <div style="margin-top:12px">
            <label class="tiny">Leads</label>
            <input id="mLeads" type="number" value="${state.metrics.leads}"/>
          </div>

          <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
            <button class="btn primary" id="saveMetrics">Save Metrics</button>
          </div>
        `;
      }

      return `<div class="muted">Unknown tab.</div>`;
    }

    // ===================== events =====================
    function bindGlobalHandlers(){
      // nav logout
      const lb = $("#logoutBtn");
      if(lb) lb.onclick = logout;
      const lb2 = $("#logoutBtn2");
      if(lb2) lb2.onclick = logout;

      // pricing buy buttons
      document.querySelectorAll("[data-buy]").forEach(btn=>{
        btn.addEventListener("click", ()=>{
          const key = btn.getAttribute("data-buy");
          const link = STRIPE[key];
          if(!link || link.startsWith("PASTE_")){
            toast("Paste your Stripe link in STRIPE config first.");
            return;
          }
          window.open(link, "_blank", "noopener,noreferrer");
        });
      });

      // login
      const loginBtn = $("#loginBtn");
      if(loginBtn){
        loginBtn.addEventListener("click", ()=>{
          const email = ($("#loginEmail").value || "").trim().toLowerCase();
          const pass  = ($("#loginPass").value || "").trim();

          if(email === AUTH.owner.email && pass === AUTH.owner.pass){
            setSession("owner");
            toast("Owner login successful ‚úÖ");
            location.hash = "#/app";
            return;
          }
          if(email === AUTH.demo.email && pass === AUTH.demo.pass){
            setSession("demo");
            toast("Demo login successful ‚ú®");
            location.hash = "#/app";
            return;
          }
          toast("Invalid login. Try owner or demo credentials.");
        });
      }

      // notes autosave
      document.querySelectorAll("#notesBox").forEach(el=>{
        el.addEventListener("input", ()=>{
          state.notes = el.value;
          persistAll();
        });
      });

      // planner add
      const addCal = $("#addCal");
      if(addCal){
        addCal.addEventListener("click", ()=>{
          const date = $("#calDate").value;
          const platform = ($("#calPlatform").value || "").trim();
          const title = ($("#calTitle").value || "").trim();
          if(!date || !platform || !title) return toast("Add date, platform, and title.");
          state.calendar.unshift({id: crypto.randomUUID(), date, platform, title});
          persistAll();
          toast("Post added.");
          render();
        });
      }
      const clearCal = $("#clearCal");
      if(clearCal){
        clearCal.addEventListener("click", ()=>{
          state.calendar = [];
          persistAll();
          toast("Calendar cleared.");
          render();
        });
      }
      document.querySelectorAll("[data-delcal]").forEach(b=>{
        b.addEventListener("click", ()=>{
          const id = b.getAttribute("data-delcal");
          state.calendar = state.calendar.filter(x=>x.id!==id);
          persistAll();
          render();
        });
      });

      // todos
      const addTodo = $("#addTodo");
      if(addTodo){
        addTodo.addEventListener("click", ()=>{
          const text = ($("#todoText").value || "").trim();
          if(!text) return toast("Type a task first.");
          state.todos.unshift({id: crypto.randomUUID(), text, done:false});
          $("#todoText").value="";
          persistAll();
          render();
        });
      }
      document.querySelectorAll("[data-todotoggle]").forEach(cb=>{
        cb.addEventListener("change", ()=>{
          const id = cb.getAttribute("data-todotoggle");
          const t = state.todos.find(x=>x.id===id);
          if(t){ t.done = cb.checked; persistAll(); }
        });
      });
      document.querySelectorAll("[data-tododel]").forEach(b=>{
        b.addEventListener("click", ()=>{
          const id = b.getAttribute("data-tododel");
          state.todos = state.todos.filter(x=>x.id!==id);
          persistAll();
          render();
        });
      });

      // contacts
      const addContact = $("#addContact");
      if(addContact){
        addContact.addEventListener("click", ()=>{
          const name = ($("#cName").value || "").trim();
          const handle = ($("#cHandle").value || "").trim();
          const note = ($("#cNote").value || "").trim();
          if(!name) return toast("Add a name.");
          state.contacts.unshift({id: crypto.randomUUID(), name, handle, note});
          $("#cName").value=""; $("#cHandle").value=""; $("#cNote").value="";
          persistAll();
          toast("Contact added.");
          render();
        });
      }
      const clearContacts = $("#clearContacts");
      if(clearContacts){
        clearContacts.addEventListener("click", ()=>{
          state.contacts = [];
          persistAll();
          toast("Contacts cleared.");
          render();
        });
      }
      document.querySelectorAll("[data-delcontact]").forEach(b=>{
        b.addEventListener("click", ()=>{
          const id = b.getAttribute("data-delcontact");
          state.contacts = state.contacts.filter(x=>x.id!==id);
          persistAll();
          render();
        });
      });

      // goals
      const saveGoals = $("#saveGoals");
      if(saveGoals){
        saveGoals.addEventListener("click", ()=>{
          state.goals.followers = Number($("#gFollowers").value || 0);
          state.goals.leads = Number($("#gLeads").value || 0);
          state.goals.sales = Number($("#gSales").value || 0);
          persistAll();
          toast("Goals saved.");
        });
      }

      // notes tools
      const fillHooks = $("#fillHooks");
      if(fillHooks){
        fillHooks.addEventListener("click", ()=>{
          const hooks =
`5 Hook Templates (copy/paste):
1) If you‚Äôre posting every day but sales are quiet‚Ä¶ do this:
2) Stop trying to go viral‚Äîdo this to make daily sales:
3) The fastest way to turn views into buyers is:
4) The mistake killing your conversions is:
5) If I had to restart my brand today, I would:

(Add your offer + CTA under each.)`;
          state.notes = (state.notes ? state.notes + "\\n\\n" : "") + hooks;
          persistAll();
          render();
          toast("Hook templates added.");
        });
      }
      const clearNotes = $("#clearNotes");
      if(clearNotes){
        clearNotes.addEventListener("click", ()=>{
          state.notes = "";
          persistAll();
          render();
          toast("Notes cleared.");
        });
      }

      // metrics
      const saveMetrics = $("#saveMetrics");
      if(saveMetrics){
        saveMetrics.addEventListener("click", ()=>{
          state.metrics.revenue = Number($("#mRevenue").value || 0);
          state.metrics.clicks = Number($("#mClicks").value || 0);
          state.metrics.leads = Number($("#mLeads").value || 0);
          persistAll();
          toast("Metrics saved.");
        });
      }

      // export / import (owner only)
      const exportBtn = $("#exportBtn");
      if(exportBtn){
        exportBtn.addEventListener("click", ()=>{
          const payload = {
            todos: state.todos, notes: state.notes, goals: state.goals,
            contacts: state.contacts, calendar: state.calendar, metrics: state.metrics
          };
          const blob = new Blob([JSON.stringify(payload, null, 2)], {type:"application/json"});
          const a = document.createElement("a");
          a.href = URL.createObjectURL(blob);
          a.download = "hustlerher-backup.json";
          document.body.appendChild(a);
          a.click();
          a.remove();
          toast("Backup downloaded.");
        });
      }

      const importFile = $("#importFile");
      if(importFile){
        importFile.addEventListener("change", async (e)=>{
          const file = e.target.files?.[0];
          if(!file) return;
          try{
            const txt = await file.text();
            const data = JSON.parse(txt);
            if(data.todos) state.todos = data.todos;
            if(typeof data.notes === "string") state.notes = data.notes;
            if(data.goals) state.goals = data.goals;
            if(data.contacts) state.contacts = data.contacts;
            if(data.calendar) state.calendar = data.calendar;
            if(data.metrics) state.metrics = data.metrics;
            persistAll();
            toast("Backup imported.");
            render();
          }catch{
            toast("Import failed (invalid JSON).");
          }
          importFile.value = "";
        });
      }
    }

    // ===================== render =====================
    function render(){
      const { path, qs } = parseRoute();

      const normalized = (path === "#/dashboard") ? "#/app" : path;
      setActiveNav(normalized);

      const view = $("#view");
      if(normalized === "#/"){
        view.innerHTML = LandingView();
      }else if(normalized === "#/pricing"){
        view.innerHTML = PricingView();
      }else if(normalized === "#/login"){
        view.innerHTML = LoginView();
      }else if(normalized === "#/app"){
        view.innerHTML = AppView(qs);
      }else{
        view.innerHTML = `
          <div class="card"><div class="pad">
            <h2 style="margin:0 0 8px">Page not found</h2>
            <p class="muted" style="margin:0 0 12px">Use Home, Pricing, Login, or Dashboard.</p>
            <a class="btn primary" href="#/">Go Home</a>
          </div></div>
        `;
      }

      bindGlobalHandlers();
    }

    function escapeHtml(str){
      return (str ?? "").replace(/[&<>"']/g, m => ({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
      }[m]));
    }

    window.addEventListener("hashchange", render);
    window.addEventListener("load", ()=>{
      if(!location.hash) location.hash = "#/";
      render();
    });
  </script>
</body>
</html>
